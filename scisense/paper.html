<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>SciSense - Paper Details</title>
  
  <!-- External CSS -->
  <link rel="stylesheet" href="css/styles.css">
  <link rel="stylesheet" type="text/css" href="css/kgain.css">
  <link rel="stylesheet" type="text/css" href="css/auth.css">

  <!-- Firebase SDKs (v8) -->
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
  <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
  
  <!-- External JavaScript -->
  <script src="js/auth.js" defer></script>
  <script src="js/script.js" defer></script>
  <script src="js/paper.js" defer></script>
  <script src="js/utils/swipeDetection.js" defer></script>
</head>
<body>
  <!-- Header -->
  <header class="header">
    <!-- Wrapper for Logo, Navigation, and Menu Toggle -->
    <div class="header-row">
      <div class="logo">
        <a href="index.html">SciSense</a>
      </div>
      <button class="sign-in-button" id="sign-in-button">Sign In</button>
    </div>
  </header>


  <!-- Paper Details Section -->
  <section class="paper-details" id="paper-details">
    <div class="container">
      <h2 id="paper-title">Loading...</h2>
      <p class="paper-info" id="paper-info">Loading...</p>
      
      <!-- Tabs Navigation -->
      <div class="tabs">
        <button class="tab active" data-tab="abstract">Abstract</button>
        <button class="tab" data-tab="news">News</button>
        <button class="tab" data-tab="tweets">Tweets</button>
      </div>
      
      <!-- Tabs Content -->
      <div class="tab-content active" id="abstract">
        <p id="paper-abstract">Loading...</p>
      </div>
      
      <div class="tab-content" id="news" style="display: none;">
        <p id="news-summary-text">Loading...</p>
      </div>
      
      <div class="tab-content" id="tweets" style="display: none;">
        <ul id="tweets-list">
          <!-- Tweets will be populated here -->
        </ul>
      </div>
    </div>
    <div class="navigation-buttons">
      <button id="prev-paper-button">Previous</button>
      <button id="next-paper-button">Next</button>
    </div>
  </section>

  <!-- KGain Arrow 
  <div class="kgain-arrow" id="kgain-arrow">
     < &#10068;  Question Mark Icon 
  </div> -->


  <!-- KGain Section -->
  <section class="kgain-section" id="kgain-section">
    <h3>Knowledge Gain Questions</h3>
      <!--<div id="kgain-container-a"></div>
	  <hr style="margin: 1em 0;">
	  <div id="kgain-container-b"></div>
	  <hr style="margin: 1em 0;">
	  <div id="kgain-container-c"></div>
    <div id="kgain-container">
       Questions will be dynamically inserted here 
    </div>-->
  </section>

    <div class="toggle-div">
	  <button id="toggle-feedback-btn" aria-label="Toggle Feedback Form">
        <!-- &#8679; Unicode for up arrow -->
      </button>
    </div>


    <!-- Feedback Form -->
    <div id="feedback-form" class="feedback-form">
      <form id="feedback-form-inner">
	      <h2>Which content is more exciting?</h2>

	      <fieldset>
	        <legend>Stimuli Feedback</legend>
	        <!-- <p>Which content type gives you more engagement/excitement?</p> -->
	          <ul>
	            <li><label><input type="radio" name="stimulusFeedback" value="Abstract" />Science  Abstract</label></li>
	            <li><label><input type="radio" name="stimulusFeedback" value="News" required />Science News</label></li>
	            <li><label><input type="radio" name="stimulusFeedback" value="Author's Tweets" /> Author's Tweets</label></li>
	          </ul>
	        </fieldset>

	     
	      <div class="container">
		      <fieldset class="demographic-feedback">
		        <legend>Update Demographic Information (Optional)</legend>
		        <label for="age">Age:</label>
		        <input type="number" id="demo-age" name="age" min="0" />
		      
		        <label for="academicLevel">Academic Level:</label>
		        <select id="academicLevel" name="academicLevel">
		          <option value="">Select</option>
		          <option value="Undergraduate">Undergraduate</option>
		          <option value="Graduate">Graduate</option>
		          <option value="PhD">PhD</option>
		          <option value="Other">Other</option>
		        </select>
		      
		      <label for="occupation">Occupation:</label>
		      <input type="text" id="education" name="occupation" />
		    </fieldset>
	      </div>

	      <!-- Hidden Input to Store Paper Identifier -->
	      <input type="hidden" id="paper-id" name="paper-id" value="" />

	      <button type="submit">Submit Feedback</button>
      </form>
    </div>

  <!-- Sign-In Modal -->
  <div class="sign-in-container" id="sign-in-modal">
    <div class="sign-in-box">
      <button class="close-modal">&times;</button>
      <button id="google-sign-in">Sign in with Google</button>
      <form id="email-sign-in-form">
        <input type="email" id="email" placeholder="Email Address" required />
        <input type="password" id="password" placeholder="Password" required />
        <button type="submit">Log in</button>
      </form>
      <a href="#" id="forgot-password">Forgot password?</a>
      <a href="#" id="sign-up-link">Sign up</a>
    </div>
  </div>

<!-- Sign-Up Modal in paper.html -->
<div class="sign-up-container" id="sign-up-modal">
  <div class="sign-up-box">
    <button class="close-modal">&times;</button>
    <h2>Create Account</h2>
    <form id="sign-up-form">
      <label for="sign-up-name">Full Name:</label>
      <input type="text" id="sign-up-name" name="sign-up-name" required />

      <label for="sign-up-email">Email Address:</label>
      <input type="email" id="sign-up-email" name="sign-up-email" required />

      <label for="sign-up-password">Password:</label>
      <input type="password" id="sign-up-password" name="sign-up-password" required />

      <label for="sign-up-confirm-password">Confirm Password:</label>
      <input type="password" id="sign-up-confirm-password" name="sign-up-confirm-password" required />

      <!-- Demographic Information -->
      <fieldset>
        <legend>Demographic Information (Optional)</legend>
        <label for="age">Age Range:</label>
        <select id="age" name="age">
          <option value="Not provided">Not provided</option>
          <option value="<18"><18</option>
          <option value="18-25">18-25</option>
          <option value="26-30">26-30</option>
          <option value="31-35">31-35</option>
          <option value="36-40">36-40</option>
          <option value="41+">41+</option>
        </select>

        <label for="occupation">Occupation:</label>
        <input type="text" id="occupation" name="occupation" placeholder="e.g., Student, Researcher, Engineer" />
      </fieldset>

      <!-- Level of Knowledge -->
      <fieldset>
        <legend>Level of Knowledge <span class="tooltip-container"> 
          <button type="button" class="tooltip-button" aria-label="More information about knowledge levels">?</button>
          <div class="tooltip-content">
            <p><strong>Novice:</strong> Non-domain experts who enjoy consuming science news.</p>
            <p><strong>Intermediate:</strong> Junior researchers with some domain knowledge.</p>
            <p><strong>Expert:</strong> Gurus or domain experts who have published research.</p>
 <!-- =======
  Loading Indicator (visible by default) -->
  <div id="loading-indicator">
    <div class="spinner"></div>
    <p>Loading...</p>
  </div>

  <!-- Main Content (hidden until loaded) -->
  <div id="main-content" style="display: none;">
    <!-- Paper Details Section -->
    <section class="paper-details" id="paper-details">
      <div class="container">
        <!-- Title and Author Section -->
        <div class="paper-header">
          <!-- No placeholder text -->
          <h2 id="paper-title"></h2>
          <p class="paper-info" id="paper-info"></p>
        </div>
  
        <!-- Tabs Navigation -->
        <div class="tabs">
          <button class="tab active" data-tab="abstract">Abstract</button>
          <button class="tab" data-tab="news">News</button>
          <button class="tab" data-tab="tweets">Tweets</button>
        </div>
  
        <div id="swipe-container">
          <!-- Tabs Content -->
          <div class="tab-content active" id="abstract">
            <!-- No placeholder text -->
            <p id="paper-abstract"></p>
<!-- >>>>>>> origin/dev -->
          </div>
          <div class="tab-content" id="news" style="display: none;">
            <p id="news-summary-text"></p>
          </div>
          <div class="tab-content" id="tweets" style="display: none;">
            <ul id="tweets-list"></ul>
          </div>
        </div>
      </div>
      <div class="quiz-section">
        <button id="take-quiz-button" class="take-quiz-button">Take Quiz</button>
      </div>
      <div class="navigation-buttons">
        <button id="prev-paper-button">Previous</button>
        <button id="take-quiz-button" class="take-quiz-button">Take Quiz</button>
        <button id="next-paper-button">Next</button>
      </div>
    </section>
  
    <!-- Redesigned Feedback Form -->
    <div id="feedback-section" class="feedback-container" style="display: none;">
      <h2 class="form-title">We Value Your Feedback</h2>
      <p class="form-instructions">Please take a moment to answer the following questions. This helps us improve!</p>
  
      <form id="feedback-form">
        <!-- Progress Bar -->
        <div class="progress-bar">
          <div class="progress" id="progress"></div>
        </div>
  
        <!-- Step 1: Demographics -->
        <div id="feedback-step-1" class="feedback-step">
          <h3>Step 1: Demographic Information</h3>
          <fieldset>
            <div class="form-group">
              <label for="demo-age">Age</label>
              <input type="number" id="demo-age" name="age" min="0" placeholder="Enter your age" />
            </div>
  
            <div class="form-group">
              <label for="academicLevel">Academic Level</label>
              <select id="academicLevel" name="academicLevel">
                <option value="">Select</option>
                <option value="Undergraduate">Undergraduate</option>
                <option value="Graduate">Graduate</option>
                <option value="PhD">PhD</option>
                <option value="Other">Other</option>
              </select>
            </div>
  
            <div class="form-group">
              <label for="occupation">Occupation</label>
              <input type="text" id="education" name="occupation" placeholder="Enter your occupation" />
            </div>
          </fieldset>
          <button type="button" class="next-btn">Next</button>
        </div>
  
        <!-- Step 2: Stimuli Feedback -->
        <div id="feedback-step-2" class="feedback-step" style="display: none;">
          <h3>Step 2: Stimuli Feedback</h3>
          <fieldset>
            <p>News vs Abstracts</p>
            <div class="form-group">
              <label><input type="radio" name="newsVsAbstracts" value="News" required /> News</label>
              <label><input type="radio" name="newsVsAbstracts" value="Abstracts" /> Abstracts</label>
            </div>
  
            <p>News1 vs News2</p>
            <div class="form-group">
              <label><input type="radio" name="news1VsNews2" value="News1" required /> News1</label>
              <label><input type="radio" name="news1VsNews2" value="News2" /> News2</label>
            </div>
          </fieldset>
          <div class="feedback-button-container">
            <button type="button" class="back-btn">Back</button>
            <button type="button" class="next-btn">Next</button>
          </div>
        </div>
  
        <!-- Step 3: Feedback -->
        <div id="feedback-step-3" class="feedback-step" style="display: none;">
          <h3>Step 3: Provide Your Feedback</h3>
          <fieldset>
            <div class="form-group">
              <label for="feedback-message">Your Feedback</label>
              <textarea id="feedback-message" name="feedback-message" rows="4" placeholder="Enter your feedback here..." required></textarea>
            </div>
          </fieldset>
          <div class="feedback-button-container">
            <button type="button" class="back-btn">Back</button>
            <button type="submit">Submit</button>
          </div>
        </div>
      </form>
    </div>
  
    <!-- Sign-In Modal -->
    <div class="sign-in-container" id="sign-in-modal">
      <div class="modal-overlay">
        <div class="sign-in-box">
          <button class="close-modal">&times;</button><br><br><br>
          <button id="google-sign-in">Sign in with Google</button>
          <form id="email-sign-in-form">
            <input type="email" id="email" placeholder="Email Address" required />
            <input type="password" id="password" placeholder="Password" required />
            <button type="submit">Log in</button>
          </form>
          <a href="#" id="forgot-password">Forgot password?</a>
          <a href="#" id="sign-up-link">Sign up</a>
        </div>
      </div>
    </div>
  
    <!-- Sign-Up Modal -->
    <div class="sign-up-container" id="sign-up-modal">
      <div class="sign-up-box">
        <button class="close-modal">&times;</button>
        <h2>Create Account</h2>
        <form id="sign-up-form">
          <label for="sign-up-name">Full Name:</label>
          <input type="text" id="sign-up-name" name="sign-up-name" required />
  
          <label for="sign-up-email">Email Address:</label>
          <input type="email" id="sign-up-email" name="sign-up-email" required />
  
          <label for="sign-up-password">Password:</label>
          <input type="password" id="sign-up-password" name="sign-up-password" required />
  
          <label for="sign-up-confirm-password">Confirm Password:</label>
          <input type="password" id="sign-up-confirm-password" name="sign-up-confirm-password" required />
  
          <!-- Demographic Information -->
          <fieldset>
            <legend>Demographic Information (Optional)</legend>
            <label for="age">Age Range:</label>
            <select id="age" name="age">
              <option value="Not provided">Not provided</option>
              <option value="<18"><18</option>
              <option value="18-25">18-25</option>
              <option value="26-30">26-30</option>
              <option value="31-35">31-35</option>
              <option value="36-40">36-40</option>
              <option value="41+">41+</option>
            </select>
  
            <label for="occupation">Occupation:</label>
            <input type="text" id="occupation" name="occupation" placeholder="e.g., Student, Researcher, Engineer" />
          </fieldset>
  
          <button type="submit">Sign Up</button>
        </form>
        <p>Already have an account? <a href="#" id="sign-in-link">Sign In</a></p>
      </div>
    </div>
  
    <!-- Redesigned KGain Panel -->
    <div class="kgain-panel" id="kgain-panel" style="display: none;">
      <h2 class="form-title">Knowledge Gain Quiz</h2>
      <p class="form-instructions">Answer the following questions based on the paper's content.</p>
      <form id="kgain-form">
        <fieldset>
          <legend>Question 1: What is the primary architecture introduced in the "Sequence to sequence learning with neural networks" paper?</legend>
          <div class="form-group">
            <label><input type="radio" name="kgain1" value="A" required /> A) Convolutional Neural Networks (CNNs)</label><br>
            <label><input type="radio" name="kgain1" value="B" /> B) Recurrent Neural Networks (RNNs)</label><br>
            <label><input type="radio" name="kgain1" value="C" /> C) Sequence-to-Sequence (Seq2Seq) model with Encoder and Decoder</label>
          </div>
        </fieldset>
  
        <fieldset>
          <legend>Question 2: Which problem does the Sequence-to-Sequence model primarily address?</legend>
          <div class="form-group">
            <label><input type="radio" name="kgain2" value="A" required /> A) Image classification</label><br>
            <label><input type="radio" name="kgain2" value="B" /> B) Machine translation</label><br>
            <label><input type="radio" name="kgain2" value="C" /> C) Object detection</label>
          </div>
        </fieldset>
  
        <button type="submit">Submit Answers</button>
      </form>
    </div>
  </div> <!-- End of main-content -->

  <!-- Script to show main content when page (or data) is fully loaded -->
  <script>
    window.addEventListener('load', function() {
      // Hide the loading indicator
      document.getElementById('loading-indicator').style.display = 'none';
      // Show the main content
      document.getElementById('main-content').style.display = 'block';
    });
  </script>
</body>
</html>
